# Модель распределения доходов

## Общий обзор

Модель распределения доходов Co-Intent Platform основана на принципе справедливого распределения выручки от продаж между всеми участниками проекта: создателями контента, платформой и держателями токенов.

## Основные принципы

### 1. Распределение доходов

Общая выручка от продаж распределяется между тремя основными группами:
- **Издатель (создатель контента)**: получает процент от каждой продажи
- **Платформа**: получает фиксированную комиссию за обслуживание
- **Держатели токенов**: получают оставшуюся часть, распределенную между всеми держателями

### 2. Многоуровневая модель для издателя

Доля создателя контента меняется в зависимости от количества проданных токенов:

| Уровень | Количество транзакций | Доля издателя |
|---------|------------------------|---------------|
| 1       | 1-1,000                | 80%           |
| 2       | 1,001-3,000            | 50%           |
| 3       | 3,001-10,000           | Линейное снижение от 50% до 10% |
| 4       | 10,001+                | 10%           |

Это обеспечивает высокий доход создателю на ранних этапах, но постепенно увеличивает долю держателей токенов по мере роста продаж.

### 3. Скользящее окно распределения

Для предотвращения превращения системы в финансовую пирамиду и обеспечения справедливой окупаемости для новых участников, реализована концепция "Скользящего окна" для держателей токенов.

#### Принцип работы скользящего окна:

1. Последние N (например, 5,000-10,000) покупателей получают повышенную долю от новых продаж
2. Ранние покупатели, уже окупившие свои инвестиции (+100% прибыли), получают меньшую долю
3. Окно "скользит" с каждой новой продажей, обеспечивая приоритет недавним покупателям

#### Формула распределения:

Для каждого токена с номером i, вес распределения рассчитывается по формуле:

```
weight(i) = windowFactor * (numTransactions - i + 1) / windowSize
if weight(i) > 1, then weight(i) = 1
if i < (numTransactions - windowSize), then weight(i) = minWeight
```

где:
- `windowSize` - размер скользящего окна (например, 5,000)
- `windowFactor` - коэффициент усиления для токенов в окне (например, 1.5)
- `minWeight` - минимальный вес для ранних токенов (например, 0.1)
- `numTransactions` - текущее количество проданных токенов

## Параметры модели

Модель использует следующие настраиваемые параметры:

| Параметр | Значение по умолчанию | Описание |
|----------|------------------------|----------|
| `PLATFORM_FEE` | 10% | Фиксированная комиссия платформы |
| `TIER_1_END` | 1,000 | Граница первого уровня транзакций |
| `TIER_2_END` | 3,000 | Граница второго уровня транзакций |
| `TIER_3_START` | 10,000 | Начало третьего уровня транзакций |
| `TIER_1_SHARE` | 80% | Доля издателя на первом уровне |
| `TIER_2_SHARE` | 50% | Доля издателя на втором уровне |
| `TIER_3_SHARE` | 10% | Доля издателя на третьем уровне |
| `WINDOW_SIZE` | 5,000 | Размер скользящего окна |
| `WINDOW_FACTOR` | 1.5 | Коэффициент усиления для токенов в окне |
| `MIN_WEIGHT` | 0.1 | Минимальный вес для ранних токенов |

## Пример расчета

Для продукта с ценой 200 RUB и 10,000 транзакций:

1. **Доля издателя**: 10% = 20 RUB
2. **Доля платформы**: 10% = 20 RUB
3. **Доля держателей токенов**: 80% = 160 RUB

Для держателя токена #100:
- Токен находится вне скользящего окна и имеет минимальный вес (0.1)
- Доход от одной новой продажи: 160 RUB * 0.1 / 10,000 = 0.0016 RUB

Для держателя токена #8,000:
- Токен находится в скользящем окне с весом 1.5 * (10,000 - 8,000 + 1) / 5,000 = 0.6
- Доход от одной новой продажи: 160 RUB * 0.6 / 10,000 = 0.0096 RUB

## Калькулятор распределения доходов

Интерактивный калькулятор распределения доходов доступен в разделе "Revenue Sharing" и позволяет моделировать различные сценарии с настраиваемыми параметрами:
- Цена токена
- Количество транзакций
- Номер вашего токена
- Размер скользящего окна
- Комиссия платформы
- Доли издателя на разных уровнях

## Преимущества модели

1. **Справедливость распределения**: обеспечивает возможность заработка для всех участников
2. **Устойчивость**: не требует постоянного притока новых участников для окупаемости
3. **Мотивация издателя**: высокая доля на ранних этапах мотивирует создателей контента
4. **Скользящее окно**: обеспечивает окупаемость для новых участников
5. **Прозрачность**: четкие правила и формулы расчета доступны всем участникам 